# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Easyp < Formula
  desc "Easy modern protobuf tooling for all your needs."
  homepage "https://easyp.tech"
  version "0.11.4"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/easyp-tech/easyp/releases/download/v0.11.4/easyp-0.11.4-darwin-amd64.tar.gz"
      sha256 "b0b47ecc04b5735c2481e26c8d083f68b98faf07a3ae249c6bb04be330b1b569"

      def install
        bin.install "easyp"
        output = Utils.popen_read("#{bin}/easyp completion bash")
        (bash_completion/"easyp").write output
        output = Utils.popen_read("#{bin}/easyp completion zsh")
        (zsh_completion/"_easyp").write output
        prefix.install_metafiles
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/easyp-tech/easyp/releases/download/v0.11.4/easyp-0.11.4-darwin-arm64.tar.gz"
      sha256 "c71227bfc76766e86478def61e78b2e726481384a76ef51cac46219c245de486"

      def install
        bin.install "easyp"
        output = Utils.popen_read("#{bin}/easyp completion bash")
        (bash_completion/"easyp").write output
        output = Utils.popen_read("#{bin}/easyp completion zsh")
        (zsh_completion/"_easyp").write output
        prefix.install_metafiles
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/easyp-tech/easyp/releases/download/v0.11.4/easyp-0.11.4-linux-amd64.tar.gz"
      sha256 "4cf85bb127d33b829d7f9a6fb06be5b64920ce7fd60c9d38fca4b61004aa3cf2"
      def install
        bin.install "easyp"
        output = Utils.popen_read("#{bin}/easyp completion bash")
        (bash_completion/"easyp").write output
        output = Utils.popen_read("#{bin}/easyp completion zsh")
        (zsh_completion/"_easyp").write output
        prefix.install_metafiles
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/easyp-tech/easyp/releases/download/v0.11.4/easyp-0.11.4-linux-armv6.tar.gz"
      sha256 "1177f368a8afde4d3acc26bda15707e52c84ef04ca4461f66e247355d3dcf353"
      def install
        bin.install "easyp"
        output = Utils.popen_read("#{bin}/easyp completion bash")
        (bash_completion/"easyp").write output
        output = Utils.popen_read("#{bin}/easyp completion zsh")
        (zsh_completion/"_easyp").write output
        prefix.install_metafiles
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/easyp-tech/easyp/releases/download/v0.11.4/easyp-0.11.4-linux-arm64.tar.gz"
      sha256 "df71761c62dc53de337f3600054778ed24867cb79bec231ff496ad0ba62022c2"
      def install
        bin.install "easyp"
        output = Utils.popen_read("#{bin}/easyp completion bash")
        (bash_completion/"easyp").write output
        output = Utils.popen_read("#{bin}/easyp completion zsh")
        (zsh_completion/"_easyp").write output
        prefix.install_metafiles
      end
    end
  end

  test do
    system "#{bin}/easyp --version"
  end
end
