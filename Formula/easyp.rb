# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Easyp < Formula
  desc "Easy modern protobuf tooling for all your needs."
  homepage "https://easyp.tech"
  version "0.7.17-rc1"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/easyp-tech/easyp/releases/download/v0.7.17-rc1/easyp-0.7.17-rc1-darwin-amd64.tar.gz"
      sha256 "6cc2949a739c783330b099f75f668710d9156a05cda189ba19bd3c0508cf877e"

      def install
        bin.install "easyp"
        output = Utils.popen_read("#{bin}/easyp completion bash")
        (bash_completion/"easyp").write output
        output = Utils.popen_read("#{bin}/easyp completion zsh")
        (zsh_completion/"_easyp").write output
        prefix.install_metafiles
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/easyp-tech/easyp/releases/download/v0.7.17-rc1/easyp-0.7.17-rc1-darwin-arm64.tar.gz"
      sha256 "c2c0360278321c3a627b1344164cc33ab892e4e30f7dc8719ef5c2568ee52665"

      def install
        bin.install "easyp"
        output = Utils.popen_read("#{bin}/easyp completion bash")
        (bash_completion/"easyp").write output
        output = Utils.popen_read("#{bin}/easyp completion zsh")
        (zsh_completion/"_easyp").write output
        prefix.install_metafiles
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/easyp-tech/easyp/releases/download/v0.7.17-rc1/easyp-0.7.17-rc1-linux-amd64.tar.gz"
      sha256 "32058222a65d2e5e5675eebd656f31096116779c7b17c1dd6621429e7213de15"
      def install
        bin.install "easyp"
        output = Utils.popen_read("#{bin}/easyp completion bash")
        (bash_completion/"easyp").write output
        output = Utils.popen_read("#{bin}/easyp completion zsh")
        (zsh_completion/"_easyp").write output
        prefix.install_metafiles
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/easyp-tech/easyp/releases/download/v0.7.17-rc1/easyp-0.7.17-rc1-linux-armv6.tar.gz"
      sha256 "3ef1b49e539f65dbb2fa80be8a8264aad26c148055ca42e50f1353b46453adb5"
      def install
        bin.install "easyp"
        output = Utils.popen_read("#{bin}/easyp completion bash")
        (bash_completion/"easyp").write output
        output = Utils.popen_read("#{bin}/easyp completion zsh")
        (zsh_completion/"_easyp").write output
        prefix.install_metafiles
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/easyp-tech/easyp/releases/download/v0.7.17-rc1/easyp-0.7.17-rc1-linux-arm64.tar.gz"
      sha256 "0dab70f386ad5864258049071a8b337a0181635fb258433273e60c83dbf231fc"
      def install
        bin.install "easyp"
        output = Utils.popen_read("#{bin}/easyp completion bash")
        (bash_completion/"easyp").write output
        output = Utils.popen_read("#{bin}/easyp completion zsh")
        (zsh_completion/"_easyp").write output
        prefix.install_metafiles
      end
    end
  end

  test do
    system "#{bin}/easyp --version"
  end
end
