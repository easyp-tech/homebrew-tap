# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Easyp < Formula
  desc "Easy modern protobuf tooling for all your needs."
  homepage "https://easyp.tech"
  version "0.13.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/easyp-tech/easyp/releases/download/v0.13.0/easyp-0.13.0-darwin-amd64.tar.gz"
      sha256 "d206ece11e404ba56a49c0224d215feb06ff9bb41751ea77bfbd0596742f31b1"

      def install
        bin.install "easyp"
        output = Utils.popen_read("#{bin}/easyp completion bash")
        (bash_completion/"easyp").write output
        output = Utils.popen_read("#{bin}/easyp completion zsh")
        (zsh_completion/"_easyp").write output
        prefix.install_metafiles
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/easyp-tech/easyp/releases/download/v0.13.0/easyp-0.13.0-darwin-arm64.tar.gz"
      sha256 "93fd3a8214e07a91e0e89646984596738cb2d7332735e4b5d1d56ce438f309c3"

      def install
        bin.install "easyp"
        output = Utils.popen_read("#{bin}/easyp completion bash")
        (bash_completion/"easyp").write output
        output = Utils.popen_read("#{bin}/easyp completion zsh")
        (zsh_completion/"_easyp").write output
        prefix.install_metafiles
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/easyp-tech/easyp/releases/download/v0.13.0/easyp-0.13.0-linux-amd64.tar.gz"
      sha256 "3016dedb73a5b647117dd46a97281183db208c1b9875b92aba51d1a81ce07d05"
      def install
        bin.install "easyp"
        output = Utils.popen_read("#{bin}/easyp completion bash")
        (bash_completion/"easyp").write output
        output = Utils.popen_read("#{bin}/easyp completion zsh")
        (zsh_completion/"_easyp").write output
        prefix.install_metafiles
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/easyp-tech/easyp/releases/download/v0.13.0/easyp-0.13.0-linux-armv6.tar.gz"
      sha256 "ed5eaf90b316e9ef6aa6b4c54e6f5dbcc409852da93372cf05c0a4cca2769781"
      def install
        bin.install "easyp"
        output = Utils.popen_read("#{bin}/easyp completion bash")
        (bash_completion/"easyp").write output
        output = Utils.popen_read("#{bin}/easyp completion zsh")
        (zsh_completion/"_easyp").write output
        prefix.install_metafiles
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/easyp-tech/easyp/releases/download/v0.13.0/easyp-0.13.0-linux-arm64.tar.gz"
      sha256 "769653f5ac51c427d0833cf4b476156ead0c3059cc1dfbef9ba37122f5d84673"
      def install
        bin.install "easyp"
        output = Utils.popen_read("#{bin}/easyp completion bash")
        (bash_completion/"easyp").write output
        output = Utils.popen_read("#{bin}/easyp completion zsh")
        (zsh_completion/"_easyp").write output
        prefix.install_metafiles
      end
    end
  end

  test do
    system "#{bin}/easyp --version"
  end
end
