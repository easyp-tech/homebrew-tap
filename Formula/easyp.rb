# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Easyp < Formula
  desc "Easy modern protobuf tooling for all your needs."
  homepage "https://easyp.tech"
  version "0.7.11"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/easyp-tech/easyp/releases/download/v0.7.11/easyp-0.7.11-darwin-amd64.tar.gz"
      sha256 "258149a513c839247d74b23f7694af9861bac43743ef4e31fded3927435ca271"

      def install
        bin.install "easyp"
        output = Utils.popen_read("#{bin}/easyp completion bash")
        (bash_completion/"easyp").write output
        output = Utils.popen_read("#{bin}/easyp completion zsh")
        (zsh_completion/"_easyp").write output
        prefix.install_metafiles
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/easyp-tech/easyp/releases/download/v0.7.11/easyp-0.7.11-darwin-arm64.tar.gz"
      sha256 "1962c0cb90c860a79a7004bade5abb6f7f5fc2e8b3e2a046fae43fda8b6dec8b"

      def install
        bin.install "easyp"
        output = Utils.popen_read("#{bin}/easyp completion bash")
        (bash_completion/"easyp").write output
        output = Utils.popen_read("#{bin}/easyp completion zsh")
        (zsh_completion/"_easyp").write output
        prefix.install_metafiles
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      if Hardware::CPU.is_64_bit?
        url "https://github.com/easyp-tech/easyp/releases/download/v0.7.11/easyp-0.7.11-linux-amd64.tar.gz"
        sha256 "f89665389eb4aa1c96b130ec5a1bafbd5ee23a421a2ee5d8b5a666b3d5edf0e5"

        def install
          bin.install "easyp"
          output = Utils.popen_read("#{bin}/easyp completion bash")
          (bash_completion/"easyp").write output
          output = Utils.popen_read("#{bin}/easyp completion zsh")
          (zsh_completion/"_easyp").write output
          prefix.install_metafiles
        end
      end
    end
    if Hardware::CPU.arm?
      if !Hardware::CPU.is_64_bit?
        url "https://github.com/easyp-tech/easyp/releases/download/v0.7.11/easyp-0.7.11-linux-armv6.tar.gz"
        sha256 "5fa5c07cc79294b69235d1fffda04f4463909ef258431d76f498c0f5fc2f17d3"

        def install
          bin.install "easyp"
          output = Utils.popen_read("#{bin}/easyp completion bash")
          (bash_completion/"easyp").write output
          output = Utils.popen_read("#{bin}/easyp completion zsh")
          (zsh_completion/"_easyp").write output
          prefix.install_metafiles
        end
      end
    end
    if Hardware::CPU.arm?
      if Hardware::CPU.is_64_bit?
        url "https://github.com/easyp-tech/easyp/releases/download/v0.7.11/easyp-0.7.11-linux-arm64.tar.gz"
        sha256 "b41cc3487c777f0b3e3cc5e3b240fbf42d637353eb09818518321f35cc4d81d8"

        def install
          bin.install "easyp"
          output = Utils.popen_read("#{bin}/easyp completion bash")
          (bash_completion/"easyp").write output
          output = Utils.popen_read("#{bin}/easyp completion zsh")
          (zsh_completion/"_easyp").write output
          prefix.install_metafiles
        end
      end
    end
  end

  test do
    system "#{bin}/easyp --version"
  end
end
